#!/bin/bash

JAVA_OPTS=${JAVA_OPTS:-"-XX:+UseParallelGC -Xms512m -Xmx512m -ea -server"}

##
# Startup script for the java journaller.
##

for jar in lib/*.jar
do
  if [ -z $CP ]; then
    CP=${jar}
  else
    CP=${CP}:${jar}
  fi
done
CP=${CP}:config

$JAVA_HOME/bin/java \
$JAVA_OPTS \
-Dlog4j.configuration=log4j.xml \
-classpath $CP \
org.lwes.journaller.Journaller $@ &

echo $! > journaller.pid